# Dockerfile.base
# 이 Dockerfile은 requirements.txt에 명시된 모든 파이썬 의존성을 설치하는 기본 이미지를 생성합니다.
# 이 이미지는 web과 celery 서비스의 빌드 캐시로 활용되어 빌드 시간을 단축시킵니다.
FROM python:3.10-slim

# 작업 디렉토리 설정
WORKDIR /app

# 의존성 파일 복사
COPY requirements.txt .

# --no-cache-dir 옵션을 제거하여 pip 캐시를 활용하고,
# --default-timeout을 늘려 대용량 라이브러리 다운로드 시 시간 초과를 방지합니다.
RUN pip install --default-timeout=300 -r requirements.txt
